{
  "tables": [
    {
      "name": "profiles",
      "description": "User profiles linked to Supabase auth.users",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "description": "Primary key, references auth.users.id"
        },
        {
          "name": "email",
          "type": "string",
          "description": "User email address"
        },
        {
          "name": "type",
          "type": "enum",
          "description": "User type: CLIENT, ADMIN, SUPER_ADMIN, DRIVER, VENDOR, HELPDESK"
        },
        {
          "name": "status",
          "type": "enum",
          "description": "User status: ACTIVE, INACTIVE, SUSPENDED"
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "Profile creation timestamp"
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "description": "Profile last update timestamp"
        }
      ]
    },
    {
      "name": "auth.users",
      "description": "Supabase Auth users table (managed by Supabase)",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "description": "Primary key"
        },
        {
          "name": "email",
          "type": "string",
          "description": "User email"
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "Account creation timestamp"
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "description": "Account last update timestamp"
        }
      ]
    },
    {
      "name": "auth.sessions",
      "description": "Supabase Auth sessions table (managed by Supabase)",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "description": "Primary key"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "description": "References auth.users.id"
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "Session creation timestamp"
        },
        {
          "name": "expires_at",
          "type": "timestamp",
          "description": "Session expiration timestamp"
        }
      ]
    },
    {
      "name": "catering_requests",
      "description": "Catering service requests",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "description": "Primary key"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "description": "References profiles.id"
        },
        {
          "name": "status",
          "type": "enum",
          "description": "Request status"
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "Request creation timestamp"
        }
      ]
    },
    {
      "name": "on_demand_requests",
      "description": "On-demand service requests",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "description": "Primary key"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "description": "References profiles.id"
        },
        {
          "name": "status",
          "type": "enum",
          "description": "Request status"
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "Request creation timestamp"
        }
      ]
    },
    {
      "name": "addresses",
      "description": "User addresses",
      "columns": [
        {
          "name": "id",
          "type": "uuid",
          "description": "Primary key"
        },
        {
          "name": "user_id",
          "type": "uuid",
          "description": "References profiles.id"
        },
        {
          "name": "address_line_1",
          "type": "string",
          "description": "Primary address line"
        },
        {
          "name": "address_line_2",
          "type": "string",
          "description": "Secondary address line"
        },
        {
          "name": "city",
          "type": "string",
          "description": "City"
        },
        {
          "name": "state",
          "type": "string",
          "description": "State"
        },
        {
          "name": "zip_code",
          "type": "string",
          "description": "ZIP code"
        },
        {
          "name": "country",
          "type": "string",
          "description": "Country"
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "Address creation timestamp"
        }
      ]
    }
  ],
  "authentication": {
    "provider": "Supabase Auth",
    "features": [
      "Email/Password authentication",
      "Google OAuth integration",
      "Session management",
      "Password reset",
      "Email verification"
    ],
    "tables": [
      "auth.users",
      "auth.sessions",
      "profiles"
    ]
  },
  "relationships": [
    {
      "from": "profiles.id",
      "to": "auth.users.id",
      "type": "one-to-one",
      "description": "Profile links to Supabase auth user"
    },
    {
      "from": "catering_requests.user_id",
      "to": "profiles.id",
      "type": "many-to-one",
      "description": "Catering requests belong to a user"
    },
    {
      "from": "on_demand_requests.user_id",
      "to": "profiles.id",
      "type": "many-to-one",
      "description": "On-demand requests belong to a user"
    },
    {
      "from": "addresses.user_id",
      "to": "profiles.id",
      "type": "many-to-one",
      "description": "Addresses belong to a user"
    }
  ]
} 
} 